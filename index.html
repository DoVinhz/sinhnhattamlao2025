<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday</title>
<style>
    body {
        margin: 0;
        background: black;
        overflow: hidden;
        font-family: 'Segoe UI', Arial, sans-serif;
        color: white;
        text-align: center;
    }

    #countdown {
        font-size: 150px;
        font-weight: bold;
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translate(-50%, -50%);
        display: none;
        text-shadow: 0 0 30px #ff0, 0 0 60px #f0f;
    }

    #birthday-message {
        display: none;
        position: absolute;
        top: 15%;
        width: 100%;
        font-size: 60px;
        text-shadow: 0 0 20px #ff6, 0 0 40px #f0f;
    }

    #birthday-message small {
        font-size: 28px;
        display: block;
        margin-top: 15px;
        color: #ffeb3b;
    }

    #cake {
        width: 350px;
        display: none;
        position: absolute;
        bottom: 10%;
        left: 50%;
        transform: translateX(-50%);
        box-shadow: 0 0 30px #ff0;
        border-radius: 15px;
    }

    /* B√≥ng bay */
    .balloon {
        position: absolute;
        width: 35px;
        height: 50px;
        border-radius: 60%;
        opacity: 0.85;
        animation: floatUp 6s linear infinite;
    }

    @keyframes floatUp {
        from { transform: translateY(100vh); }
        to   { transform: translateY(-120vh); }
    }

    canvas {
        position: fixed;
        top: 0;
        left: 0;
        pointer-events: none;
    }
</style>
</head>
<body>

<!-- Nh·∫°c n·ªÅn -->
<audio id="music" loop>
    <source src="music.mp3" type="audio/mp3">
</audio>

<div id="countdown">3</div>

<img id="cake" src="https://i.imgur.com/9N4I9Yy.png" alt="Birthday Cake">

<div id="birthday-message">
    Happy Birthday T√ÇM üéâ  
    <small>From V. Vinh with love ‚ù§Ô∏è</small>
</div>

<canvas id="fireworks"></canvas>

<script>
// ==================== Countdown
let countdown = document.getElementById("countdown");
let count = 3;
countdown.style.display = "block";

let timer = setInterval(() => {
    countdown.innerHTML = count;
    count--;
    if (count < 0) {
        clearInterval(timer);
        countdown.style.display = "none";
        startShow();
    }
}, 1000);

// ==================== Start show
function startShow() {
    document.getElementById("music").play().catch(()=>{});
    document.getElementById("birthday-message").style.display = "block";
    document.getElementById("cake").style.display = "block";

    launchFireworks();
    createBalloons();
}

// ==================== Fireworks
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});

function random(min, max) { return Math.random() * (max - min) + min; }

let particles = [];

function launchFireworks() {
    setInterval(() => {
        let x = random(100, canvas.width - 100);
        let y = random(50, canvas.height / 2);

        for (let i = 0; i < 50; i++) {
            particles.push({
                x, y,
                angle: random(0, Math.PI * 2),
                speed: random(2, 6),
                life: 100
            });
        }
    }, 700);

    animate();
}

function animate() {
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    particles.forEach((p, i) => {
        let vx = Math.cos(p.angle) * p.speed;
        let vy = Math.sin(p.angle) * p.speed;

        p.x += vx;
        p.y += vy;
        p.life--;

        ctx.fillStyle = `hsl(${p.life * 3},100%,50%)`;
        ctx.fillRect(p.x, p.y, 3, 3);

        if (p.life <= 0) particles.splice(i, 1);
    });

    requestAnimationFrame(animate);
}

// ==================== Balloons
function createBalloons() {
    setInterval(() => {
        let balloon = document.createElement("div");
        balloon.className = "balloon";
        balloon.style.left = Math.random() * 100 + "%";
        balloon.style.background = `hsl(${Math.random()*360}, 80%, 60%)`;

        document.body.appendChild(balloon);

        setTimeout(() => balloon.remove(), 6500);
    }, 600);
}
</script>

</body>
</html>
